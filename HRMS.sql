create database HRMS;
use HRMS;

create table ChucVu(
MaChucVu nvarchar(50) primary key not null,
MaLuong nvarchar(50) not null,
TenChucVu nvarchar(100) not null, 
MoTa nvarchar(300)
FOREIGN KEY (MaLuong) REFERENCES dbo.Luong(MaLuong)
);

create table Luong(
MaLuong nvarchar(50) primary key not null,
LuongCoBan Float not null,
PhuCap Float not null,
Thuong Float null
);
Create table NhanVien(
MaNV nvarchar(50) primary key not null,
MaChucVu nvarchar(50) not null,
Ten nvarchar(100) not null,
NgaySinh date not null,
DiaChi nvarchar(300) not null,
SDT nvarchar(50) not null,
Email nvarchar(300) not null,
Hinh nvarchar(MAX),
FOREIGN KEY (MaChucVu) REFERENCES dbo.ChucVu(MaChucVu)
);
Create table QuyenTruyCap(
MaTC nvarchar(50) primary key not null,
MatKhau nvarchar(50) not null,
Quyen nvarchar(100) not null,
MaNV nvarchar(50) not null
FOREIGN KEY (MaNV) REFERENCES dbo.NhanVien(MaNV)
);

Create table ChamCong(
MaCC int primary key identity not null,
MaNV nvarchar(50) not null,
NgayCC date not null,
ThoiGianVao time not null,
ThoiGianRa time null,
ViTriCC nvarchar(300) not null
FOREIGN KEY (MaNV) REFERENCES dbo.NhanVien(MaNV)
);
Create table CongViec(
MaCV nvarchar(50) primary key not null,
TenCV nvarchar(100) not null,
MoTa nvarchar(300) not null,
MaNV nvarchar(50)
FOREIGN KEY (MaNV) REFERENCES dbo.NhanVien(MaNV)
);    
Create table NhiemVu(
MaNhiemVu nvarchar(50)  primary key not null,
TenNhiemVu nvarchar(300) not null,
NgayBatDau Date not null,
NgayKetThuc Date not null,
MoTa nvarchar(300),
MaCV nvarchar(50) not null
FOREIGN KEY (MaCV) REFERENCES dbo.CongViec(MaCV)
);


INSERT INTO ChucVu(MaChucVu,MaLuong,TenChuCVu,MoTa)
VALUES 
  ('CV001','L001' ,N'Giám đốc', N'Quản lý tổng thể công ty'),
  ('CV002','L002' ,N'Trưởng phòng kỹ thuật', N'Quản lý bộ phận kỹ thuật'),
  ('CV003','L003' ,N'Nhân viên kinh doanh', N'Chăm sóc khách hàng'),
  ('CV004','L004' ,N'Kế toán trưởng', N'Quản lý công việc kế toán'),
  ('CV005','L005' ,N'Nhân viên nhà máy', N'Làm việc tại nhà máy sản xuất'),
  ('CV006','L006' ,N'Nhân viên IT', N'Hỗ trợ công nghệ thông tin'),
  ('CV007','L007' ,N'Quản lý nhân sự', N'Quản lý nhân sự công ty'),
  ('CV008','L008' ,N'Nhân viên hành chính', N'Thực hiện công việc hành chính'),
  ('CV009','L009' ,N'Nhân viên bảo vệ', N'Đảm bảo an ninh và an toàn'),
  ('CV010','L010' ,N'Nhân viên vận chuyển', N'Vận chuyển hàng hóa và logistics');
  INSERT INTO NhanVien(MaNV,MaChucVu, Ten, NgaySinh,DiaChi,SDT,Email)
VALUES 
  ('NV001', 'CV001', N'Nguyễn Văn A', '1990-01-15', '123 Đường ABC, Quận XYZ', '0123456789', 'nva@email.com'),
  ('NV002', 'CV002', N'Trần Thị B', '1995-05-20', '456 Đường XYZ, Quận ABC', '0987654321', 'ttb@email.com'),
  ('NV003', 'CV003', N'Lê Văn C', '1988-12-03', '789 Đường MNO, Quận PQR', '0369852147', 'lvc@email.com'),
  ('NV004', 'CV004', N'Phạm Thị D', '1993-07-10', '101 Đường LMN, Quận GHI', '0748963251', 'ptd@email.com'),
  ('NV005', 'CV005', N'Hoàng Văn E', '1987-09-30', '222 Đường EFG, Quận HIJ', '0912345678', 'hve@email.com'),
  ('NV006', 'CV006', N'Mai Thị F', '1992-04-25', '333 Đường STU, Quận KLM', '0123456789', 'mtf@email.com'),
  ('NV007', 'CV007', N'Ngọc Lan G', '1989-11-19', '444 Đường OPQ, Quận RST', '0987654321', 'nlg@email.com'),
  ('NV008', 'CV008', N'Lâm Thanh H', '1994-08-12', '555 Đường UVW, Quận XYZ', '0369852147', 'lth@email.com'),
  ('NV009', 'CV009', N'Trương Minh I', '1991-06-07', '666 Đường XYZ, Quận ABC', '0748963251', 'tmi@email.com'),
  ('NV010', 'CV010', N'Hoài Phương J', '1996-02-28', '777 Đường PQR, Quận MNO', '0912345678', 'hpj@email.com');
  INSERT INTO Luong(MaLuong,LuongCoBan,PhuCap, Thuong)
VALUES ('L001', 5000000, 1000000, 2000000),
       ('L002', 4500000, 800000, 1500000),
       ('L003', 4000000, 1200000, 2500000),
       ('L004', 3500000, 900000, 1600000),
       ('L005', 3000000, 1500000, 3000000),
       ('L006', 2500000, 850000, 1400000),
       ('L007', 2000000, 1100000, 2200000),
       ('L008', 1500000, 950000, 1700000),
       ('L009', 1000000, 1150000, 2300000),
       ('L010', 500000, 1250000, 2600000);
		   INSERT INTO ChamCong( MaNV, NgayCC, ThoiGianVao, ThoiGianRa, ViTriCC)
VALUES ( 'NV001', '2023-11-08', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-11-08', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-11-08', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-11-08', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-11-08', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-11-08', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-11-08', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-11-08', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-11-08', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-11-08', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-11-09', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-11-09', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-11-09', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-11-09', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-11-09', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-11-09', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-11-09', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-11-09', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-11-09', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-11-09', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-11-01', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-11-01', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-11-01', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-11-01', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-11-01', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-11-01', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-11-01', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-11-01', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-11-01', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-11-01', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-11-02', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-11-02', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-11-02', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-11-02', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-11-02', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-11-02', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-11-02', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-11-02', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-11-02', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-11-02', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-11-03', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-11-03', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-11-03', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-11-03', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-11-03', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-11-03', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-11-03', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-11-03', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-11-03', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-11-03', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-11-04', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-11-04', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-11-04', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-11-04', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-11-04', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-11-04', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-11-04', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-11-04', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-11-04', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-11-04', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-11-05', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-11-05', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-11-05', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-11-05', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-11-05', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-11-05', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-11-05', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-11-05', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-11-05', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-11-05', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-11-06', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-11-06', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-11-06', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-11-06', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-11-06', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-11-06', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-11-06', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-11-06', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-11-06', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-11-06', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-11-07', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-11-07', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-11-07', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-11-07', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-11-07', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-11-07', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-11-07', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-11-07', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-11-07', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-11-07', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-11-10', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-11-10', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-11-10', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-11-10', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-11-10', '08:05:00', '17:15:00', 'Vị trí B'),
	   ( 'NV005', '2023-11-27', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-11-10', '08:20:00', '16:30:00', 'Vị trí C'),
	   ( 'NV006', '2023-11-24', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-11-10', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-11-10', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-11-10', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-11-10', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV010', '2023-01-10', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV010', '2023-02-10', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV010', '2023-11-27', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV010', '2023-11-25', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-10-08', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-10-08', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-10-08', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-10-08', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-10-08', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-10-08', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-10-08', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-10-08', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-10-08', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-10-08', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-10-09', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-10-09', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-10-09', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-10-09', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-10-09', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-10-09', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-10-09', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-10-09', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-10-09', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-10-09', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-10-01', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-10-01', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-10-01', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-10-01', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-10-01', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-10-01', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-10-01', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-10-01', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-10-01', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-10-01', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-10-02', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-10-02', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-10-02', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-10-02', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-10-02', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-10-02', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-10-02', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-10-02', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-10-02', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-10-02', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-10-03', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-10-03', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-10-03', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-10-03', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-10-03', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-10-03', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-10-03', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-10-03', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-10-03', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-10-03', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-10-04', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-10-04', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-10-04', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-10-04', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-10-04', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-10-04', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-10-04', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-10-04', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-10-04', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-10-04', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-10-05', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-10-05', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-10-05', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-10-05', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-10-05', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-10-05', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-10-05', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-10-05', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-10-05', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-10-05', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-10-06', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-10-06', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-10-06', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-10-06', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-10-06', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-10-06', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-10-06', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-10-06', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-10-06', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-10-06', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-10-07', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-10-07', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-10-07', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-10-07', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-10-07', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-10-07', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-10-07', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-10-07', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-10-07', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-10-07', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-10-10', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-10-10', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-10-10', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-10-10', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-10-10', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-10-10', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-10-10', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-10-10', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-10-10', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-10-10', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-09-08', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-09-08', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-09-08', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-09-08', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-09-08', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-09-08', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-09-08', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-09-08', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-09-08', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-09-08', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-09-09', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-09-09', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-09-09', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-09-09', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-09-09', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-09-09', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-09-09', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-09-09', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-09-09', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-09-09', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-09-01', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-09-01', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-09-01', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-09-01', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-09-01', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-09-01', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-09-01', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-09-01', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-09-01', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-09-01', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-09-02', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-09-02', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-09-02', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-09-02', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-09-02', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-09-02', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-09-02', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-09-02', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-09-02', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-09-02', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-09-03', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-09-03', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-09-03', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-09-03', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-09-03', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-09-03', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-09-03', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-09-03', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-09-03', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-09-03', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-09-04', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-09-04', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-09-04', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-09-04', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-09-04', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-09-04', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-09-04', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-09-04', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-09-04', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-09-04', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-09-05', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-09-05', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-09-05', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-09-05', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-09-05', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-09-05', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-09-05', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-09-05', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-09-05', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-09-05', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-09-06', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-09-06', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-09-06', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-09-06', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-09-06', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-09-06', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-09-06', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-09-06', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-09-06', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-09-06', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-09-07', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-09-07', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-09-07', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-09-07', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-09-07', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-09-07', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-09-07', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-09-07', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-09-07', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-09-07', '08:15:00', '16:25:00', 'Vị trí A'),
	   ( 'NV001', '2023-09-10', '08:00:00', '16:30:00', 'Vị trí A'),
       ( 'NV002', '2023-09-10', '08:15:00', '17:00:00', 'Vị trí B'),
       ( 'NV003', '2023-09-10', '08:30:00', '16:45:00', 'Vị trí C'),
       ( 'NV004', '2023-09-10', '08:10:00', '16:40:00', 'Vị trí A'),
       ( 'NV005', '2023-09-10', '08:05:00', '17:15:00', 'Vị trí B'),
       ( 'NV006', '2023-09-10', '08:20:00', '16:30:00', 'Vị trí C'),
       ( 'NV007', '2023-09-10', '08:25:00', '17:30:00', 'Vị trí A'),
       ( 'NV008', '2023-09-10', '08:40:00', '17:45:00', 'Vị trí B'),
       ( 'NV009', '2023-09-10', '08:35:00', '16:55:00', 'Vị trí C'),
       ( 'NV010', '2023-09-10', '08:15:00', '16:25:00', 'Vị trí A');



	   INSERT INTO CongViec(MaCV, TenCV, MoTa, MaNV)
VALUES ('CV001', N'Quản lý dự án', N'Quản lý các dự án phát triển sản phẩm', 'NV001'),
       ('CV002', N'Lập trình viên',N'Viết mã nguồn cho ứng dụng', 'NV002'),
       ('CV003', N'Kế toán trưởng', N'Quản lý công việc kế toán', 'NV003'),
       ('CV004', N'Nhân viên bảo vệ', N'Đảm bảo an ninh và an toàn', 'NV004'),
       ('CV005', N'Trưởng phòng kinh doanh', N'Quản lý bộ phận kinh doanh', 'NV005'),
       ('CV006', N'Nhân viên hành chính', N'Thực hiện công việc hành chính', 'NV006'),
       ('CV007', N'Lập trình viên', N'Viết mã nguồn cho ứng dụng', 'NV007'),
       ('CV008', N'Quản lý nhân sự', N'Quản lý nhân sự công ty', 'NV008'),
       ('CV009', N'Nhân viên vận chuyển', N'Vận chuyển hàng hóa và logistics', 'NV009'),
       ('CV010', N'Nhân viên kỹ thuật', N'Thực hiện công việc kỹ thuật', 'NV010');
INSERT INTO NhiemVu(MaNhiemVu,TenNhiemVu, NgayBatDau, NgayKetThuc, MoTa, MaCV)
VALUES ('CV1_1','Nhiệm vụ 1', '2023-11-08', '2023-11-15', N'Thiết kế giao diện ứng dụng', 'CV001'),
       ('CV2_1','Nhiệm vụ 2', '2023-11-09', '2023-11-16', N'Viết mã nguồn cho tính năng mới', 'CV002'),
       ('CV3_1','Nhiệm vụ 3', '2023-11-08', '2023-11-15', N'Lập kế hoạch tài chính tháng 12', 'CV003'),
       ('CV4_1','Nhiệm vụ 4', '2023-11-08', '2023-11-15', N'Kiểm tra an ninh tòa nhà', 'CV004'),
       ('CV5_1','Nhiệm vụ 5', '2023-11-09', '2023-11-16', N'Quản lý dự án tiếp thị', 'CV005'),
       ('CV6_1','Nhiệm vụ 6', '2023-11-08', '2023-11-15', N'Chuẩn bị tài liệu hợp đồng', 'CV006'),
       ('CV7_1','Nhiệm vụ 7', '2023-11-08', '2023-11-15', N'Tối ưu hóa mã nguồn ứng dụng', 'CV007'),
       ('CV8_1','Nhiệm vụ 8', '2023-11-09', '2023-11-16', N'Xây dựng chính sách nhân sự', 'CV008'),
       ('CV9_1','Nhiệm vụ 9', '2023-11-08', '2023-11-15', N'Quản lý vận chuyển hàng hóa', 'CV009'),
       ('CV10_1','Nhiệm vụ 10', '2023-11-08', '2023-11-15', N'Hỗ trợ kỹ thuật cho khách hàng', 'CV010');
	   INSERT INTO QuyenTruyCap(MaTC, MatKhau, Quyen,MaNV)
VALUES ('QT001', 'password123', 'admin', 'NV001'),
       ('QT002', 'userpass', 'user', 'NV002'),
       ('QT003', 'securepass', 'admin', 'NV003'),
       ('QT004', 'user123', 'user', 'NV004'),
       ('QT005', 'adminpass', 'admin', 'NV005'),
       ('QT006', 'passworduser', 'user', 'NV006'),
       ('QT007', 'admin123', 'admin', 'NV007'),
       ('QT008', 'userpass123', 'user', 'NV008'),
       ('QT009', 'secure123', 'admin', 'NV009'),
       ('QT010', 'useradmin', 'admin', 'NV010');


           
		   
create proc sp_BangLuong(@Month int)
as begin 
	select 
		
		nv.MaNV,
		nv.Ten,
		cv.TenChucVu,
		l.LuongCoBan,
		l.PhuCap,
		l.Thuong,

		(select Count(NgayCC) 
		from ChamCong 
		where MONTH(NgayCC) LIKE @Month 
		and MaNV LIKE nv.MaNV) 
		as 'TongSoNgayCC',

		ROUND(((l.LuongCoBan/30) *
		(select Count(NgayCC) 
		from ChamCong 
		where MONTH(NgayCC) LIKE @Month 
		and MaNV LIKE nv.MaNV)   
		+ l.PhuCap + l.Thuong),2)
		as 'TongLuong'

	from ChucVu cv 
		full join NhanVien nv on nv.MaChucVu= cv.MaChucVu
		full join Luong l on l.MaLuong = cv.MaLuong
end


create proc sp_Top5NhanVienXuatSac(@Month int)
as begin 
		select 
		top 5
		nv.MaNV,
		nv.Ten,
		nv.Email,
		nv.SDT,
		nv.DiaChi,
		cv.TenChucVu,
		(select Count(NgayCC) 
		from ChamCong 
		where MONTH(NgayCC) LIKE @Month 
		and MaNV LIKE nv.MaNV) 
		as 'SoNgayLamTrongThang'
		from ChucVu cv 
		full join NhanVien nv on nv.MaChucVu= cv.MaChucVu
		full join Luong l on l.MaLuong = cv.MaLuong
		order by SoNgayLamTrongThang desc
end

create proc sp_CongViec
as begin 
select 
cv.MaNV,
cv.TenCV,
nv.TenNhiemVu,
nv.NgayBatDau,
nv.NgayKetThuc,
nv.MoTa
from CongViec cv
join NhiemVu nv 
on nv.MaCV = cv.MaCV
end



create trigger trg_deleteCV on CongViec
instead of delete
as 
	begin
		delete from CongViec where MaCV in (select MaCV from deleted)
		delete from NhiemVu where MaCV in (select MaCV from deleted)
	end

create trigger trg_deleteNV on NhanVien
instead of delete
as 
	begin
		delete from NhanVien where MaNV in (select MaNV from deleted)
		delete from CongViec where MaNV in (select MaNV from deleted)
		delete from ChamCong where MaNV in (select MaNV from deleted)
		delete from QuyenTruyCap where MaNV in (select MaNV from deleted)
	end

create trigger trg_deleteChucVu on ChucVu
instead of delete
as 
	begin
		delete from ChucVu where MaChucVu in (select MaChucVu from deleted)
		delete from NhanVien where MaChucVu in (select MaChucVu from deleted)
	end

create trigger trg_deleteLuong on Luong
instead of delete
as 
	begin
		delete from Luong where MaLuong in (select MaLuong from deleted)
		delete from ChucVu where MaLuong in (select MaLuong from deleted)
	end








